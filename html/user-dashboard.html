<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>ParentPal - User Dashboard</title>
		<link rel="stylesheet" href="../layout/layout.css" />
		<link rel="stylesheet" href="../css/dashboard.css" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
		<link
			href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
			rel="stylesheet" />
	</head>
	<body>
		<!-- Header/Navigation -->
		<header>
			<div class="container">
				<nav class="navbar">
					<div class="logo">
						<a href="../index.html">
							<img src="../assets/logo.svg" alt="ParentPal Logo" />
						</a>
					</div>

					<ul class="nav-links">
						<li><a href="../index.html">Home</a></li>
						<li><a href="content.html">Content</a></li>
						<li><a href="community.html">Community</a></li>
						<li><a href="chatbot.html">Chatbot</a></li>
					</ul>

					<div class="profile-icon" id="profile-icon">
						<div class="profile-image">
							<i class="fas fa-user"></i>
						</div>
						<i class="fas fa-chevron-down"></i>

						<div class="profile-dropdown">
							<div class="dropdown-header">
								<div class="user-name" id="user-name">John Doe</div>
								<div class="user-email" id="user-email">john@example.com</div>
							</div>
							<div class="dropdown-content">
								<a href="#" class="dropdown-item" onclick="goToDashboard()">
									<i class="fas fa-th-large"></i>
									Dashboard
								</a>
								<a href="profile.html" class="dropdown-item">
									<i class="fas fa-user"></i>
									View Profile
								</a>
								<a href="#" class="dropdown-item">
									<i class="fas fa-cog"></i>
									Settings
								</a>
								<button class="dropdown-item logout-btn" onclick="logout()">
									<i class="fas fa-sign-out-alt"></i>
									Logout
								</button>
							</div>
						</div>
					</div>

					<div class="mobile-menu">
						<i class="fas fa-bars"></i>
					</div>
				</nav>
			</div>
		</header>

		<!-- Dashboard Content -->
		<main class="dashboard-main">
			<div class="container">
				<div class="dashboard-header">
					<h1>Welcome to Your Parent Dashboard</h1>
					<p>
						Access parenting resources, track your journey, and connect with the
						community.
					</p>
				</div>

				<div class="dashboard-grid">
					<div class="dashboard-card">
						<div class="card-icon">
							<i class="fas fa-lightbulb"></i>
						</div>
						<h3>Parenting Tips</h3>
						<p>
							Get personalized parenting advice and tips based on your child's
							age and development stage.
						</p>
						<button class="card-button">Explore Tips</button>
					</div>

					<div class="dashboard-card">
						<div class="card-icon">
							<i class="fas fa-user-md"></i>
						</div>
						<h3>Ask Experts</h3>
						<p>
							Connect with certified parenting experts and get answers to your
							specific questions.
						</p>
						<button class="card-button">Ask Question</button>
					</div>

					<div class="dashboard-card">
						<div class="card-icon">
							<i class="fas fa-chart-line"></i>
						</div>
						<h3>Development Tracker</h3>
						<p>
							Track your child's milestones and development progress with our
							interactive tools.
						</p>
						<button class="card-button">Track Progress</button>
					</div>

					<div class="dashboard-card">
						<div class="card-icon">
							<i class="fas fa-users"></i>
						</div>
						<h3>Community</h3>
						<p>
							Join discussions with other parents, share experiences, and build
							connections.
						</p>
						<button class="card-button">Join Community</button>
					</div>

					<div class="dashboard-card">
						<div class="card-icon">
							<i class="fas fa-robot"></i>
						</div>
						<h3>AI Chatbot</h3>
						<p>
							Get instant answers to your parenting questions with our
							AI-powered chatbot assistant.
						</p>
						<button class="card-button">Start Chat</button>
					</div>

					<div class="dashboard-card">
						<div class="card-icon">
							<i class="fas fa-book"></i>
						</div>
						<h3>Parenting Journal</h3>
						<p>
							Keep track of your parenting journey with our digital journal and
							reflection tools.
						</p>
						<button class="card-button">Start Writing</button>
					</div>
				</div>
			</div>
		</main>

		<script src="../layout/layout.js"></script>
		<script>
			// Check if user is logged in and redirect if not
			document.addEventListener("DOMContentLoaded", function () {
				const isLoggedIn = localStorage.getItem("isLoggedIn");
				const currentUser = JSON.parse(localStorage.getItem("currentUser"));

				if (isLoggedIn !== "true" || !currentUser) {
					window.location.href = "login.html";
					return;
				}

				// If user is expert, redirect to expert dashboard
				if (currentUser.role === "expert") {
					window.location.href = "expert-dashboard.html";
					return;
				}

				// Update profile info
				const userName = document.getElementById("user-name");
				const userEmail = document.getElementById("user-email");

				if (userName)
					userName.textContent = `${currentUser.firstName} ${currentUser.lastName}`;
				if (userEmail) userEmail.textContent = currentUser.email;
			});

			function logout() {
				localStorage.removeItem("isLoggedIn");
				localStorage.removeItem("currentUser");
				window.location.href = "../index.html";
			}

			function goToDashboard() {
				// Already on dashboard, just close dropdown
				document.getElementById("profile-icon").classList.remove("active");
			}
		</script>
	</body>
</html>
